% 嵌入式系统实验讲义(x210v3, 2016.6)
\documentclass[a4paper,11pt]{book}

\usepackage{indentfirst}                % 每章、节首段缩进
\usepackage[extension=pdf,%
            pdfpagelayout=TwoPageRight,%
            pdfpagemode=UseThumbs,%
            colorlinks=true,            % 允许彩色链接
            linkcolor=black]{hyperref} % 超链接包
\usepackage{graphicx, subfig, multicol, multirow, fancyhdr}
\usepackage{listings}
\usepackage[left=1in,right=1in,top=3cm,bottom=3cm]{geometry}
\usepackage[nofonts]{ctex}
\usepackage{fontspec}
\usepackage{longtable}
\usepackage{amsfonts}
\usepackage{boxedminipage} 
%\usepackage{booktabs}

\usepackage{tikz}
\usetikzlibrary{positioning,fit,petri}
\usetikzlibrary{decorations}
\usetikzlibrary{plothandlers}
\usetikzlibrary{backgrounds}
\usetikzlibrary{calc}
\usetikzlibrary{matrix}
\usetikzlibrary{shapes}
\usetikzlibrary{arrows}
\setCJKmainfont[BoldFont=WenQuanYi Micro Hei,
                ItalicFont=STFangsong]{AR PL SungtiL GB}
\setCJKsansfont[BoldFont=LiSu,
                ItalicFont=STXinwei]{WenQuanYi Micro Hei}
\setCJKmonofont{AR PL UKai CN}

\lstset{language=C++,showstringspaces=false}
\lstset{extendedchars=false} % tetex-3 conflict with CJK

\makeatletter
\def\hlinewd#1{%
  \noalign{\ifnum0=`}\fi\hrule\@height #1\futurelet%
   \reserved@a\@xhline}
\makeatother
\newcommand\Trule{\hlinewd{1.5pt}}
\newcommand\Brule{\hlinewd{1.5pt}}

\makeatletter
\def\thline{%
  \noalign{\ifnum0=`}\fi
    \penalty\@M
    \futurelet\@let@token\LT@@thline{1.5pt}}
\def\LT@@thline#1{%
    \global\let\@gtempa\@empty
    \gdef\LT@sep{\penalty-\@lowpenalty\vskip-#1}%
  \ifnum0=`{\fi}%
  \multispan\LT@cols
     \unskip\leaders\hrule\@height #1\hfill\cr
  \noalign{\LT@sep}%
  \multispan\LT@cols
     \unskip\leaders\hrule\@height #1\hfill\cr
  \noalign{\penalty\@M}%
  \@gtempa}
\makeatother

\renewcommand\figurename{图}
\renewcommand\tablename{表}
\renewcommand\chaptername{实验}
\renewcommand\contentsname{目录}

%\renewcommand\refname{参考文献}


%\CTEXsetup[name={第,章},number={\chinese{chapter}},%
%	format+={\song},beforeskip={-10ex plus -.1ex minus -.1ex},%
%	afterskip={1ex plus .1ex minus .1ex}]{chapter}

%\CTEXsetup[name={,},number={\arabic{chapter}.\arabic{section}},%
%format={\large\raggedright},%
%titleformat={\hei}]{section}

%\CTEXsetup[name={第,章}]{section}
%\CTEXsetup[format={\raggedright}]{section}
%\CTEXsetup[nameformat={\Large \hei}]{section}
%\CTEXsetup[titleformat={\Large \hei}]{section}
%\CTEXsetup[aftername={\vskip 3ex}]{section}
%\CTEXsetup[format+={\Large}]{section}

\title{
\begin{flushright}
\bf 嵌入式系统 \\ \ \\
 \textsf{实\ \ 验\ \ 指\ \ 导\ \ 书\\
(基于 BeagleBone Black)} \\ \ \\
\rule[10pt]{.6\textwidth}{2pt}\\
\large \textsf{南京大学~~电子科学与工程学院}
\vskip 4cm 2015年7月
\end{flushright}
}
\author{}
\date{}

\sloppy
\hyphenpenalty=10000\exhyphenpenalty=10000

\begin{document}

\maketitle
\pagenumbering{Roman}
\setlength{\parindent}{2em}
\setlength\doublerulesep{.2pt}

\baselineskip=17pt
%\setcounter{page}{1}
\tableofcontents

\newpage
 ~ \vskip 2cm

\begin{center} \LARGE \it \textsf{实验室规章制度} \end{center}
\large \tt
\begin{enumerate}\itemsep=-5pt
  \item 实验室是教学科研重地,实验时要保持安静的环境,不得大声喧闹
  \item 学生必须遵守纪律,不得迟到、早退和无故缺席,有事应事先请假
  \item 实验前先预习,预习通过才能进行实验;实验结果须经教师检查认可
  \item 注意保持实验室环境的卫生整洁,及时清理个人的遗留物品
  \item 爱护仪器设备,正确使用实验仪器和设备,违章损坏要酌情赔偿
\end{enumerate}

\vspace{4mm}\begin{center}
$\spadesuit~~ \heartsuit~~ \diamondsuit~~ \clubsuit~~
\spadesuit~~ \heartsuit~~ \diamondsuit~~ \clubsuit~~
\spadesuit~~ \heartsuit~~ \diamondsuit~~ \clubsuit~~
\spadesuit~~ \heartsuit~~ \diamondsuit~~ \clubsuit~~$
\end{center}\vspace{4mm}

\input format
\pagenumbering{arabic}
\baselineskip=17pt
\input introduction
\input environment
\input bootloader
\input kernel
\input filesystem
\input gui
\input touch_screen
\input drivers
\input qt_embedded
\input gtk
\input mplayer
\input rtems
\end{document}

